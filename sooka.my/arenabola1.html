<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Stream</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.20.3/video-js.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.20.3/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-http-streaming/3.3.0/videojs-http-streaming.min.js"></script>
    <style>
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: black; }
        .video-container { width: 80%; max-width: 800px; position: relative; }
    </style>
</head>
<body>
    <div class="video-container">
        <video id="my-video" class="video-js vjs-default-skin" controls preload="auto" width="100%" height="100%" crossorigin="anonymous">
            <source src="https://cvnewitvlive-cdn.skyiptv.eu.org/stream/smtmynsg/arenabola1/fmp4_video.m3u8?u=cvappuser&p=0f573e68e00dff8dca0ea6fb2e78c1b9b490a64e8d103112965404558fc00aa8" type="application/x-mpegURL">
        </video>
    </div>
    <script>
        var player = videojs('my-video', {
            html5: {
                hls: {
                    overrideNative: true
                }
            }
        });
        
        // Menambah user-agent dan referrer
        var videoElement = document.getElementById('my-video');
        var sourceElement = videoElement.getElementsByTagName('source')[0];
        
        var headers = new Headers();
        headers.append("User-Agent", "Y3YudHZwbHVzLzMzIChMaW51eDtBbmRyb2lkIDguMS4wKSBBbmRyb2lkWE1lZGlhMy8xLjEuMQ==");
        headers.append("Referer", "Q2hlZXJWaXNpb25fVFYrX0xpVmVfODg4XzY2Nl84ODg4");
        
        fetch(sourceElement.src, { headers: headers })
            .then(response => console.log("Stream request sent with headers."))
            .catch(error => console.error("Error setting headers:", error));
    </script>
</body>
</html>
